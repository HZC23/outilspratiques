<!DOCTYPE html>
<div class="tool-container" id="percentageTool">
    <div class="tool-header">
        <h2><i class="fas fa-percent"></i> Calculateur de pourcentages</h2>
        <div class="tool-actions">
            <button type="button" class="btn-icon help-button" aria-label="Aide">
                <i class="fas fa-question-circle"></i>
            </button>
            <button type="button" class="btn-icon fullscreen-btn fullscreen-toggle" aria-label="Plein écran">
                <i class="fas fa-expand"></i>
            </button>
        </div>
    </div>

    <div class="percentage-horizontal-layout">
        <!-- Navigation par onglets -->
        <div class="percentage-tabs" role="tablist" aria-label="Calculateurs de pourcentage">
            <button class="tab-button active" data-tab="calc1" role="tab" aria-selected="true" aria-controls="calc1">
                Valeur pourcentage
            </button>
            <button class="tab-button" data-tab="calc2" role="tab" aria-selected="false" aria-controls="calc2">
                Pourcentage de
            </button>
            <button class="tab-button" data-tab="calc3" role="tab" aria-selected="false" aria-controls="calc3">
                Augmentation / Réduction
            </button>
            <button class="tab-button" data-tab="calc4" role="tab" aria-selected="false" aria-controls="calc4">
                Remise
            </button>
            <button class="tab-button" data-tab="calc5" role="tab" aria-selected="false" aria-controls="calc5">
                TVA / Taxes
            </button>
            <button class="tab-button" data-tab="calc6" role="tab" aria-selected="false" aria-controls="calc6">
                Marge
            </button>
        </div>
        
        <div class="percentage-main-panel">
            <!-- Calcul 1: Valeur pourcentage -->
            <div id="calc1" class="tab-content active" role="tabpanel" aria-labelledby="tab1">
                <form class="percentage-form">
                    <div class="form-group">
                        <label for="percent1">Pourcentage (%)</label>
                        <input type="number" id="percent1" placeholder="25" min="0" step="any">
                        <small class="input-help">Entrez le pourcentage à calculer</small>
                    </div>
                    <div class="form-group">
                        <label for="total1">Valeur totale</label>
                        <input type="number" id="total1" placeholder="100" min="0" step="any">
                        <small class="input-help">Entrez le montant total</small>
                    </div>
                    <div class="percentage-actions">
                        <button type="button" class="btn btn-reset" id="reset1">Réinitialiser</button>
                        <button type="button" class="btn btn-primary" id="calculate1">Calculer</button>
                    </div>
                </form>
                <div class="result-container" id="result1" style="display: none;">
                    <div class="result-row">
                        <span class="result-label">Résultat:</span>
                        <span class="result-value" id="resultValue1">0</span>
                    </div>
                </div>
            </div>
            
            <!-- Calcul 2: Pourcentage de -->
            <div id="calc2" class="tab-content" role="tabpanel" aria-labelledby="tab2">
                <form class="percentage-form">
                    <div class="form-group">
                        <label for="part2">Valeur partielle</label>
                        <input type="number" id="part2" placeholder="25" min="0" step="any">
                        <small class="input-help">Entrez la partie dont vous voulez connaître le pourcentage</small>
                    </div>
                    <div class="form-group">
                        <label for="total2">Valeur totale</label>
                        <input type="number" id="total2" placeholder="100" min="0" step="any">
                        <small class="input-help">Entrez le montant total</small>
                    </div>
                    <div class="percentage-actions">
                        <button type="button" class="btn btn-reset" id="reset2">Réinitialiser</button>
                        <button type="button" class="btn btn-primary" id="calculate2">Calculer</button>
                    </div>
                </form>
                <div class="result-container" id="result2" style="display: none;">
                    <div class="result-row">
                        <span class="result-label">Résultat:</span>
                        <span class="result-value" id="resultValue2">0%</span>
                    </div>
                </div>
            </div>
            
            <!-- Calcul 3: Augmentation / Réduction -->
            <div id="calc3" class="tab-content" role="tabpanel" aria-labelledby="tab3">
                <form class="percentage-form">
                    <div class="form-group">
                        <label for="original3">Valeur originale</label>
                        <input type="number" id="original3" placeholder="100" min="0" step="any">
                        <small class="input-help">Entrez la valeur de départ</small>
                    </div>
                    <div class="form-group">
                        <label for="final3">Valeur finale</label>
                        <input type="number" id="final3" placeholder="125" min="0" step="any">
                        <small class="input-help">Entrez la valeur après changement</small>
                    </div>
                    <div class="percentage-actions">
                        <button type="button" class="btn btn-reset" id="reset3">Réinitialiser</button>
                        <button type="button" class="btn btn-primary" id="calculate3">Calculer</button>
                    </div>
                </form>
                <div class="result-container" id="result3" style="display: none;">
                    <div class="result-row">
                        <span class="result-label">Différence:</span>
                        <span class="result-value" id="differenceValue">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Pourcentage:</span>
                        <span class="result-value" id="percentageValue">0%</span>
                    </div>
                </div>
            </div>
            
            <!-- Calcul 4: Remise / Réduction -->
            <div id="calc4" class="tab-content" role="tabpanel" aria-labelledby="tab4">
                <form class="percentage-form">
                    <div class="form-group">
                        <label for="original4">Prix original</label>
                        <input type="number" id="original4" placeholder="100" min="0" step="any">
                        <small class="input-help">Entrez le prix de départ avant remise</small>
                    </div>
                    <div class="form-group">
                        <label for="discount4">Pourcentage de remise (%)</label>
                        <input type="number" id="discount4" placeholder="20" min="0" max="100" step="any">
                        <small class="input-help">Entrez le pourcentage de remise</small>
                    </div>
                    <div class="percentage-actions">
                        <button type="button" class="btn btn-reset" id="reset4">Réinitialiser</button>
                        <button type="button" class="btn btn-primary" id="calculate4">Calculer</button>
                    </div>
                </form>
                <div class="result-container" id="result4" style="display: none;">
                    <div class="result-row">
                        <span class="result-label">Montant de la remise:</span>
                        <span class="result-value" id="discountAmount">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Prix après remise:</span>
                        <span class="result-value" id="finalPrice">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Économie:</span>
                        <span class="result-value positive" id="savings">0%</span>
                    </div>
                </div>
            </div>
            
            <!-- Calcul 5: TVA / Taxes -->
            <div id="calc5" class="tab-content" role="tabpanel" aria-labelledby="tab5">
                <form class="percentage-form">
                    <div class="form-group">
                        <label for="taxRate">Taux de TVA/Taxe (%)</label>
                        <input type="number" id="taxRate" placeholder="20" min="0" step="any">
                        <small class="input-help">Entrez le taux de TVA ou de taxe</small>
                    </div>
                    <div class="form-group">
                        <label for="priceType">Type de prix</label>
                        <select id="priceType" class="form-select">
                            <option value="preTax">Prix hors taxes (HT)</option>
                            <option value="withTax">Prix toutes taxes comprises (TTC)</option>
                        </select>
                        <small class="input-help">Sélectionnez si le prix est HT ou TTC</small>
                    </div>
                    <div class="form-group">
                        <label for="price5">Prix</label>
                        <input type="number" id="price5" placeholder="100" min="0" step="any">
                        <small class="input-help">Entrez le montant du prix</small>
                    </div>
                    <div class="percentage-actions">
                        <button type="button" class="btn btn-reset" id="reset5">Réinitialiser</button>
                        <button type="button" class="btn btn-primary" id="calculate5">Calculer</button>
                    </div>
                </form>
                <div class="result-container" id="result5" style="display: none;">
                    <div class="result-row">
                        <span class="result-label">Prix HT:</span>
                        <span class="result-value" id="preTaxPrice">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Montant de la taxe:</span>
                        <span class="result-value" id="taxAmount">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Prix TTC:</span>
                        <span class="result-value" id="withTaxPrice">0</span>
                    </div>
                </div>
            </div>
            
            <!-- Calcul 6: Marge / Majoration -->
            <div id="calc6" class="tab-content" role="tabpanel" aria-labelledby="tab6">
                <form class="percentage-form">
                    <div class="form-group">
                        <label for="cost6">Coût d'achat</label>
                        <input type="number" id="cost6" placeholder="100" min="0" step="any">
                        <small class="input-help">Entrez le coût d'achat ou de revient</small>
                    </div>
                    <div class="form-group">
                        <label for="markup6">Pourcentage de marge (%)</label>
                        <input type="number" id="markup6" placeholder="50" min="0" step="any">
                        <small class="input-help">Entrez le pourcentage de marge souhaité</small>
                    </div>
                    <div class="percentage-actions">
                        <button type="button" class="btn btn-reset" id="reset6">Réinitialiser</button>
                        <button type="button" class="btn btn-primary" id="calculate6">Calculer</button>
                    </div>
                </form>
                <div class="result-container" id="result6" style="display: none;">
                    <div class="result-row">
                        <span class="result-label">Montant de la marge:</span>
                        <span class="result-value" id="markupAmount">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Prix de vente:</span>
                        <span class="result-value" id="sellingPrice">0</span>
                    </div>
                    <div class="result-row">
                        <span class="result-label">Marge brute:</span>
                        <span class="result-value positive" id="grossMargin">0%</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="percentage-sidebar">
            <div class="tool-panel">
                <div class="tool-panel-header">
                    <h3>Historique de calculs</h3>
                    <button class="btn-icon clear-history" aria-label="Effacer l'historique">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
                <div class="tool-panel-content">
                    <div id="percentage-history" class="history-list">
                        <p class="empty-history">Aucun calcul récent</p>
                    </div>
                </div>
            </div>
            
            <div class="tool-panel mt-3">
                <div class="tool-panel-header">
                    <h3>Astuces</h3>
                </div>
                <div class="tool-panel-content">
                    <ul class="tips-list">
                        <li>Pour calculer <strong>X%</strong> d'un nombre, utilisez le calculateur <strong>Valeur pourcentage</strong>.</li>
                        <li>Pour déterminer quel pourcentage un nombre représente d'un autre, utilisez <strong>Pourcentage de</strong>.</li>
                        <li>Pour calculer une <strong>augmentation ou réduction</strong> entre deux valeurs, utilisez l'onglet correspondant.</li>
                        <li>Le calculateur de <strong>remise</strong> est idéal pour les réductions commerciales.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Panneau d'aide -->
    <div id="percentage-help" class="help-panel">
        <div class="help-panel-header">
            <h3 class="help-panel-title">Aide - Calculateur de pourcentages</h3>
            <button class="close-help help-panel-close" data-help-close aria-label="Fermer l'aide">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="help-panel-content">
            <div class="help-section">
                <h3>Comment utiliser le calculateur</h3>
                <p>Cet outil propose plusieurs types de calculs différents :</p>
                
                <ul>
                    <li><strong>Valeur pourcentage</strong> : Calcule la valeur correspondant à un pourcentage d'un nombre.
                        <br><em>Exemple : 25% de 100 = 25</em>
                    </li>
                    <li><strong>Pourcentage de</strong> : Détermine quel pourcentage une valeur représente par rapport à une autre.
                        <br><em>Exemple : 25 est 25% de 100</em>
                    </li>
                    <li><strong>Augmentation / Réduction</strong> : Calcule le pourcentage d'augmentation ou de réduction entre deux valeurs.
                        <br><em>Exemple : De 100 à 125 = +25%</em>
                    </li>
                    <li><strong>Remise</strong> : Calcule le prix après application d'une remise en pourcentage.
                        <br><em>Exemple : Prix 100€ avec 20% de remise = 80€</em>
                    </li>
                    <li><strong>TVA / Taxes</strong> : Calcule les prix HT, TTC et le montant de la taxe.
                        <br><em>Exemple : Prix HT 100€ avec TVA 20% = 120€ TTC</em>
                    </li>
                    <li><strong>Marge</strong> : Calcule le prix de vente en fonction du coût et de la marge souhaitée.
                        <br><em>Exemple : Coût 100€ avec marge 50% = 150€ prix de vente</em>
                    </li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3>Formules utilisées</h3>
                <ul>
                    <li><strong>Valeur pourcentage</strong> : Valeur = (Pourcentage × Total) ÷ 100</li>
                    <li><strong>Pourcentage de</strong> : Pourcentage = (Partie ÷ Total) × 100</li>
                    <li><strong>Augmentation/Réduction</strong> : Pourcentage = ((Valeur finale - Valeur initiale) ÷ Valeur initiale) × 100</li>
                    <li><strong>Remise</strong> : 
                        <br>Montant de la remise = Prix original × (Pourcentage de remise ÷ 100)
                        <br>Prix après remise = Prix original - Montant de la remise
                    </li>
                    <li><strong>TVA / Taxes</strong> :
                        <br>Prix TTC = Prix HT × (1 + Taux de TVA ÷ 100)
                        <br>Prix HT = Prix TTC ÷ (1 + Taux de TVA ÷ 100)
                        <br>Montant de la taxe = Prix TTC - Prix HT
                    </li>
                    <li><strong>Marge</strong> :
                        <br>Montant de la marge = Coût × (Pourcentage de marge ÷ 100)
                        <br>Prix de vente = Coût + Montant de la marge
                    </li>
                </ul>
            </div>
            
            <div class="help-section">
                <h3>Astuces</h3>
                <ul>
                    <li>Vous pouvez entrer des nombres décimaux dans tous les champs.</li>
                    <li>Pour les réductions, la valeur du pourcentage sera négative.</li>
                    <li>Le résultat est arrondi à 2 décimales pour plus de lisibilité.</li>
                    <li>Appuyez sur la touche Entrée pour calculer rapidement.</li>
                    <li>Utilisez les boutons de réinitialisation pour effacer tous les champs.</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="../../js/fullscreen.js"></script>
<script src="../../js/tools/percentage.js"></script>
</body>
</html> 